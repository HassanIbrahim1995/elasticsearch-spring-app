# This configuration is for Logstash, which is part of the Elastic Stack.
# Logstash's main role is to process and transform logs before sending them to a storage backend (e.g., Elasticsearch).

# INPUT SECTION: Where should Logstash receive logs from?
input {
    tcp {
        port => "${LOGSTASH_PORT:-5000}"
        codec => json_lines
    }
}

# OUTPUT SECTION: Where should Logstash send the processed logs?
output {
    elasticsearch {
        hosts => ["${ELASTICSEARCH_HOST:-elasticsearch}:${ELASTICSEARCH_PORT:-9200}"]
        index => "logstash-%{+YYYY.MM.dd}"
    }
}
